---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: cloudflare-api-key
  namespace: default
spec:
  encryptedData:
    api-key: AgCDEayVz/0oUkqAm8BnrHMH4D+s1jWGRI/EfdKbw1L7+YeHOYvoMa/hqGGOIzCeNO0mDOTaFwcf7olf0Cgil1xOS91F1YThcgKvPbWUOAIO0/U/PRBD0uFFjWxW9TjzMZS0K8rChmB5wMGRCM25xWQ5TJZVFku+xyQAOaNHhpDRIjbER6xdixwgRItmGVNXNUrEf7xEb17CAW9eidojylf2o1yB66mRF6JNTlnPUBTjOMe8JLTDHaVy3JV1Zv1V9Kf87JYaKOrPl2pAx9Gc2SBBwysVzAIcHIkCsxypjhVsxlTBwyCjkzOnGTltK5NO9UaI5QR8LGladGjPkvB6q64pUSCQLI5rD6Q4ZYffJrIXckG6DlHj533Q1FLYILwuQQQLwcCnIvMiTbZojQ710TWvqbgHpasuFmcyFO9i7ZZy6W1st4U93/gW6pJwovysgkQFYdlOo8t33TfgajFhwoNmG1XAdhaVbCz1RzV0yIDt3pJvM+0sN2hNngeTu/Ucxi6LldzuGsG7NGwO1CkM7rDY7EaFESLlbkyIFTyrfZogCsWIbnr4+2rYahCDn0RAAccHGhxHdW6SWuto5COBKSok9/JOVZLWFeYkmeddalHevfUiJYqVaW7Xvs9UnHcKjf0Xlj3Zw7tJWiPmmYd4o9rw0wEq30Ofdl+g5fZVCsAqS6Gf02pXcbJShIeqWVAd8wwWEEuiEHrHIVdX4Bap6iJ3WZ7EUWLLiu11I2TxGdg/9XMtPZ2S
  template:
    metadata:
      creationTimestamp: null
      name: cloudflare-api-key
      namespace: default

---
apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt
  namespace: cert-manager
spec:
  acme:
    server: https://acme-v02.api.letsencrypt.org/directory
    preferredChain: "ISRG Root X1"
    email: jose.bovet@gmail.com
    privateKeySecretRef:
      name: letsencrypt
    solvers:
    - dns01:
        cloudflare:
          email: jose.bovet@gmail.com
          apiKeySecretRef:
            name: cloudflare-api-key
            key: api-key
      selector:
        dnsZones:
        - 'awesome-cluster-jueiig.jpbd.dev'