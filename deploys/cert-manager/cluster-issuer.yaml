---
apiVersion: bitnami.com/v1alpha1
kind: SealedSecret
metadata:
  creationTimestamp: null
  name: cloudflare-api-key
  namespace: cert-manager
spec:
  encryptedData:
    api-key: AgAago104P4NCQqJbnJLixH2u6hB7CeeTUnLR6zP3EARDCVvpg71wOzmeZUUZTulMW3SghTBFT5L/DWUUoPfub01GPYT+J0S8GflLK18U8gkPTEzAlzSft+OLM2fpd/i0lXJV+lOO0yYL3OrzLjDlsdVC2SPEYBMuNMVsW9AJGJFUyE39l5Le5BvmCMOlm4m52LDEQpSpiIQW5EXYG6DIDg1XOCLm+vqa5COPoPk5pyuQb4nQk0UPeHV+ssi6VWCK1JCC1PwcjX183kNggescs+wMKu73QeuPUUq3HYIFbVtlteIRC13wLuIFLQRXauioyj7zva/xf3J7WSZ2Gkj+C5Hn+/pZH++gijRbwEiNj7dsDSU8coFfer0gfCfGOU3uK2EHnSiwOWPl+StPtBz+DdcfUfgM34aj6ae0FUk5eyFaUPeydOt7Qp4TsakN442pIIL1JUMM21NlZCfa30X/UhhgHYFv+mDCQqan4dIETexZhedz0UG+azPjWJji1TlYHfadNaRe95dRDE5YMT2ldZ8Kv9aSIbRCfa3h7jl9HM1oeQCtbCbdvkbo6+JuHgbn6n56mBZJhDjJAt19nG5e1d1fWbyJEjDTzU4SgCf7nsD8ok+ybWLKwCwKP2+W3TABmD7pgxK+mHXL60JaWdPuLKbRhmWYHJoZryS7NxhU63Xml/LmF46pSExqWqJatCVF+U51JlwRU5iQ4ZrMaE02VhiyNPM2WIpqqoJ5xyuK773wxN0PH8jquVH
  template:
    metadata:
      creationTimestamp: null
      name: cloudflare-api-key
      namespace: cert-manager
---

apiVersion: cert-manager.io/v1
kind: ClusterIssuer
metadata:
  name: letsencrypt
  namespace: cert-manager
spec:
  acme:
    server: https://acme-v02.api.letsencrypt.org/directory
    email: jose.bovet@gmail.com
    privateKeySecretRef:
      name: letsencrypt
    solvers:
    - dns01:
        cloudflare:
          email: jose.bovet@gmail.com
          apiKeySecretRef:
            name: cloudflare-api-key
            key: api-key
      selector:
        dnsZones:
        - 'jpbd.dev'      
        # dnsNames:
        # - 'awesome-cluster-jueiig.jpbd.dev'
        # - '*.awesome-cluster-jueiig.jpbd.dev'            
